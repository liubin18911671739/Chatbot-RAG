# æµ‹è¯•ç³»ç»ŸçŠ¶æ€

> æœ€åæ›´æ–°: 2025å¹´10æœˆ16æ—¥

## âœ… å·²å®Œæˆé…ç½®

### åç«¯æµ‹è¯•
- **çŠ¶æ€**: âœ… å®Œå…¨é…ç½®å¹¶å¯ç”¨
- **æµ‹è¯•æ¡†æ¶**: pytest 8.3.5
- **é€šè¿‡æµ‹è¯•**: 10ä¸ªæ ¸å¿ƒæµ‹è¯•
  - `tests/test_smoke.py`: 6ä¸ªåŸºç¡€ç«¯ç‚¹æµ‹è¯•
  - `tests/test_services.py`: 4ä¸ªæœåŠ¡å±‚æµ‹è¯•
- **è¦†ç›–ç‡**: 21%
- **è¿è¡Œæ–¹å¼**: 
  ```bash
  cd backend
  pytest tests/test_smoke.py tests/test_services.py -v
  ```

### æµ‹è¯•è„šæœ¬
- **çŠ¶æ€**: âœ… å®Œå…¨é…ç½®å¹¶å¯ç”¨
- **Linux/Mac**: `./run_all_tests.sh`
- **Windows**: `run_all_tests.bat`
- **åŠŸèƒ½**: è‡ªåŠ¨è¿è¡Œåç«¯æ ¸å¿ƒæµ‹è¯•ï¼Œæ˜¾ç¤ºå‹å¥½çš„æµ‹è¯•ç»“æœ

## âš ï¸ éœ€è¦é…ç½®

### å‰ç«¯å•å…ƒæµ‹è¯•
- **çŠ¶æ€**: âš ï¸ æµ‹è¯•æ–‡ä»¶å·²åˆ›å»ºï¼Œéœ€è¦å®‰è£…ä¾èµ–
- **éœ€è¦å®‰è£…**:
  ```bash
  cd frontend
  npm install --save-dev @vue/test-utils jest @vue/vue3-jest babel-jest
  ```
- **æµ‹è¯•æ–‡ä»¶ä½ç½®**: `frontend/src/tests/*.spec.js`
- **é…ç½®æ–‡ä»¶**: `frontend/jest.config.js` (å·²åˆ›å»º)

### E2Eæµ‹è¯•
- **çŠ¶æ€**: âš ï¸ æµ‹è¯•æ–‡ä»¶å·²åˆ›å»ºï¼Œéœ€è¦å®‰è£…Cypress
- **éœ€è¦å®‰è£…**:
  ```bash
  cd frontend
  npm install --save-dev cypress
  ```
- **æµ‹è¯•æ–‡ä»¶ä½ç½®**: `frontend/cypress/integration/e2e.spec.js`
- **é…ç½®æ–‡ä»¶**: `frontend/cypress.config.js` (å·²åˆ›å»º)

## ğŸ“Š æµ‹è¯•è¦†ç›–æ¦‚è§ˆ

### å·²æœ‰æµ‹è¯•çš„åŠŸèƒ½
âœ… å¥åº·æ£€æŸ¥ç«¯ç‚¹  
âœ… åœºæ™¯åˆ—è¡¨è·å–  
âœ… æ¬¢è¿æ¶ˆæ¯  
âœ… èŠå¤©åŠŸèƒ½  
âœ… åé¦ˆæäº¤  
âœ… èŠå¤©æç¤ºå¤„ç†æœåŠ¡  
âœ… å“åº”ç”ŸæˆæœåŠ¡  

### å¾…å®Œå–„çš„åŠŸèƒ½
âš ï¸ è®¤è¯ç³»ç»Ÿ (49ä¸ªæµ‹è¯•å¾…è°ƒæ•´)  
âš ï¸ é—®é¢˜ç®¡ç†  
âš ï¸ æœç´¢åŠŸèƒ½  
âš ï¸ æ•°æ®åˆ†æ  
âš ï¸ æ€§èƒ½æµ‹è¯•  

## ğŸ¯ å¿«é€Ÿå¼€å§‹

### è¿è¡Œå½“å‰å¯ç”¨çš„æµ‹è¯•

**æ–¹å¼1: ä½¿ç”¨æµ‹è¯•è„šæœ¬ï¼ˆæ¨èï¼‰**
```bash
# Linux/Mac
./run_all_tests.sh

# Windows
run_all_tests.bat
```

**æ–¹å¼2: ç›´æ¥è¿è¡Œpytest**
```bash
cd backend
pytest tests/test_smoke.py tests/test_services.py -v --cov=. --cov-report=html
```

### æŸ¥çœ‹æµ‹è¯•æŠ¥å‘Š
```bash
# Mac
open backend/htmlcov/index.html

# Linux
xdg-open backend/htmlcov/index.html

# Windows
start backend\htmlcov\index.html
```

## ğŸ”§ é…ç½®å‰ç«¯æµ‹è¯•ï¼ˆå¯é€‰ï¼‰

å¦‚æœæ‚¨éœ€è¦è¿è¡Œå‰ç«¯æµ‹è¯•ï¼ŒæŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

### æ­¥éª¤1: å®‰è£…Jestä¾èµ–
```bash
cd frontend
npm install --save-dev @vue/test-utils jest @vue/vue3-jest babel-jest
```

### æ­¥éª¤2: é…ç½®package.json
ç¡®ä¿ `package.json` ä¸­æœ‰ä»¥ä¸‹æµ‹è¯•è„šæœ¬ï¼š
```json
{
  "scripts": {
    "test": "jest",
    "test:watch": "jest --watch",
    "test:coverage": "jest --coverage"
  }
}
```

### æ­¥éª¤3: è¿è¡Œæµ‹è¯•
```bash
npm test
```

## ğŸ”§ é…ç½®E2Eæµ‹è¯•ï¼ˆå¯é€‰ï¼‰

### æ­¥éª¤1: å®‰è£…Cypress
```bash
cd frontend
npm install --save-dev cypress
```

### æ­¥éª¤2: é…ç½®package.json
æ·»åŠ Cypressè„šæœ¬ï¼š
```json
{
  "scripts": {
    "cypress:open": "cypress open",
    "cypress:run": "cypress run"
  }
}
```

### æ­¥éª¤3: è¿è¡ŒE2Eæµ‹è¯•
```bash
# æ‰“å¼€Cypressç•Œé¢
npm run cypress:open

# æˆ–ç›´æ¥è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm run cypress:run
```

## ğŸ“ å¾…åŠäº‹é¡¹

### çŸ­æœŸï¼ˆå¯ç«‹å³è¿›è¡Œï¼‰
- [ ] å®‰è£…å‰ç«¯æµ‹è¯•ä¾èµ–
- [ ] è¿è¡Œå‰ç«¯å•å…ƒæµ‹è¯•
- [ ] å¢åŠ åç«¯æµ‹è¯•è¦†ç›–ç‡åˆ°50%+

### ä¸­æœŸï¼ˆæŒ‰éœ€è¿›è¡Œï¼‰
- [ ] è°ƒæ•´49ä¸ªå¤±è´¥çš„åç«¯æµ‹è¯•ä»¥åŒ¹é…å®é™…API
- [ ] é…ç½®Cypress E2Eæµ‹è¯•
- [ ] æ·»åŠ æ›´å¤šé›†æˆæµ‹è¯•

### é•¿æœŸï¼ˆä¼˜åŒ–æ–¹å‘ï¼‰
- [ ] å®ç°CI/CDè‡ªåŠ¨åŒ–æµ‹è¯•
- [ ] è¾¾åˆ°80%+ä»£ç è¦†ç›–ç‡
- [ ] æ·»åŠ æ€§èƒ½åŸºå‡†æµ‹è¯•
- [ ] æ·»åŠ å®‰å…¨æµ‹è¯•

## ğŸ’¡ å»ºè®®

1. **å½“å‰ç³»ç»Ÿç¨³å®š**: æ ¸å¿ƒåŠŸèƒ½å·²æœ‰æµ‹è¯•è¦†ç›–ï¼Œç³»ç»Ÿå¯æ­£å¸¸ä½¿ç”¨
2. **æŒ‰éœ€æ‰©å±•**: æ ¹æ®å®é™…éœ€æ±‚å†³å®šæ˜¯å¦é…ç½®å‰ç«¯æµ‹è¯•
3. **æ¸è¿›æ”¹è¿›**: åœ¨å¼€å‘æ–°åŠŸèƒ½æ—¶åŒæ­¥æ·»åŠ æµ‹è¯•
4. **ä¿æŒç®€å•**: ä¼˜å…ˆä¿è¯æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•é€šè¿‡

## ğŸ“ å¸¸è§é—®é¢˜

**Q: ä¸ºä»€ä¹ˆå‰ç«¯æµ‹è¯•æ˜¾ç¤º "No tests configured yet"ï¼Ÿ**  
A: è¿™æ˜¯æ­£å¸¸çš„ã€‚å‰ç«¯æµ‹è¯•æ–‡ä»¶å·²åˆ›å»ºï¼Œä½†éœ€è¦å®‰è£…Jestä¾èµ–æ‰èƒ½è¿è¡Œã€‚è¿™æ˜¯å¯é€‰çš„é…ç½®ã€‚

**Q: æˆ‘éœ€è¦é…ç½®å‰ç«¯æµ‹è¯•å—ï¼Ÿ**  
A: ä¸æ˜¯å¿…éœ€çš„ã€‚å½“å‰åç«¯æ ¸å¿ƒæµ‹è¯•å·²è¦†ç›–ä¸»è¦åŠŸèƒ½ã€‚å¦‚æœæ‚¨éœ€è¦ä¿®æ”¹å‰ç«¯ä»£ç å¹¶å¸Œæœ›æœ‰æµ‹è¯•ä¿éšœï¼Œå¯ä»¥é…ç½®å®ƒã€‚

**Q: æµ‹è¯•è„šæœ¬è¿è¡Œå¤±è´¥æ€ä¹ˆåŠï¼Ÿ**  
A: æ£€æŸ¥æ˜¯å¦åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œè„šæœ¬ï¼Œç¡®ä¿backendç›®å½•å­˜åœ¨ï¼ŒPythonç¯å¢ƒå·²æ¿€æ´»ã€‚

**Q: å¦‚ä½•æé«˜æµ‹è¯•è¦†ç›–ç‡ï¼Ÿ**  
A: å¯ä»¥é€æ­¥è°ƒæ•´ `backend/tests/` ä¸­å…¶ä»–æµ‹è¯•æ–‡ä»¶ï¼Œä½¿å…¶åŒ¹é…å®é™…APIç«¯ç‚¹ã€‚

---

æµ‹è¯•ç³»ç»Ÿå·²å°±ç»ªï¼Œå¯ä»¥å¼€å§‹ä½¿ç”¨ï¼ğŸ‰
