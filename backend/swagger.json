{
    "openapi": "3.0.0",
    "info": {
      "title": "BISU-QA System API",
      "description": "æ£ å¿ƒé—®ç­”ç³»ç»Ÿåç«¯ API æ–‡æ¡£",
      "version": "1.0.0",
      "contact": {
        "name": "BISU-QA å¼€å‘å›¢é˜Ÿ",
        "email": "support@example.com"
      }
    },
    "servers": [
      {
        "url": "http://10.10.15.210:5000",
        "description": "å¼€å‘ç¯å¢ƒæœåŠ¡å™¨"
      },
      {
        "url": "http://10.101.0.208:5000",
        "description": "æµ‹è¯•ç¯å¢ƒæœåŠ¡å™¨"
      }
    ],
    "paths": {
      "/api/chat": {
        "post": {
          "summary": "èŠå¤©æ¥å£",
          "description": "æ¥æ”¶ç”¨æˆ·æé—®å¹¶è¿”å›æ™ºèƒ½å›ç­”",
          "operationId": "sendChatMessage",
          "tags": ["èŠå¤©åŠŸèƒ½"],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatRequest"
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "æˆåŠŸå“åº”",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/ChatResponse"
                  }
                }
              }
            },
            "400": {
              "description": "è¯·æ±‚å‚æ•°é”™è¯¯",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  }
                }
              }
            },
            "500": {
              "description": "æœåŠ¡å™¨é”™è¯¯",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  }
                }
              }
            }
          }
        }
      },
      "/api/scenes": {
        "get": {
          "summary": "åœºæ™¯åˆ—è¡¨æ¥å£",
          "description": "è·å–ç³»ç»Ÿæ”¯æŒçš„æ‰€æœ‰åœºæ™¯",
          "operationId": "getScenes",
          "tags": ["åœºæ™¯ç®¡ç†"],
          "responses": {
            "200": {
              "description": "æˆåŠŸå“åº”",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "additionalProperties": {
                      "$ref": "#/components/schemas/Scene"
                    }
                  }
                }
              }
            },
            "500": {
              "description": "æœåŠ¡å™¨é”™è¯¯",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  }
                }
              }
            }
          }
        }
      },
      "/api/feedback": {
        "post": {
          "summary": "åé¦ˆæ¥å£",
          "description": "æäº¤ç”¨æˆ·å¯¹ç­”æ¡ˆçš„åé¦ˆ",
          "operationId": "submitFeedback",
          "tags": ["ç”¨æˆ·åé¦ˆ"],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FeedbackRequest"
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "æˆåŠŸå“åº”",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/SuccessResponse"
                  }
                }
              }
            },
            "400": {
              "description": "è¯·æ±‚å‚æ•°é”™è¯¯",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  }
                }
              }
            },
            "500": {
              "description": "æœåŠ¡å™¨é”™è¯¯",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  }
                }
              }
            }
          }
        }
      },
      "/api/greeting": {
        "get": {
          "summary": "é—®å€™è¯­æ¥å£",
          "description": "è·å–ç³»ç»Ÿé—®å€™è¯­",
          "operationId": "getGreeting",
          "tags": ["ç³»ç»Ÿé…ç½®"],
          "responses": {
            "200": {
              "description": "æˆåŠŸå“åº”",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/GreetingResponse"
                  }
                }
              }
            },
            "500": {
              "description": "æœåŠ¡å™¨é”™è¯¯",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  }
                }
              }
            }
          }
        }
      },
      "/api/health": {
        "get": {
          "summary": "å¥åº·æ£€æŸ¥æ¥å£",
          "description": "æ£€æŸ¥APIæœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ",
          "operationId": "checkHealth",
          "tags": ["ç³»ç»ŸçŠ¶æ€"],
          "responses": {
            "200": {
              "description": "æœåŠ¡æ­£å¸¸",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "status": {
                        "type": "string",
                        "example": "ok"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "components": {
      "schemas": {
        "ChatRequest": {
          "type": "object",
          "required": ["prompt"],
          "properties": {
            "prompt": {
              "type": "string",
              "description": "ç”¨æˆ·çš„æé—®å†…å®¹",
              "example": "ä½ å¥½ï¼Œè¯·é—®ä»€ä¹ˆæ˜¯ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰ï¼Ÿ"
            },
            "scene_id": {
              "type": "string",
              "description": "åœºæ™¯IDï¼ˆå¯é€‰ï¼‰",
              "example": "db_sizheng"
            },
            "studentId": {
              "type": "string",
              "description": "å­¦ç”ŸIDï¼ˆå¯é€‰ï¼‰",
              "example": "2023001"
            }
          }
        },
        "ChatResponse": {
          "type": "object",
          "properties": {
            "status": {
              "type": "string",
              "example": "success"
            },
            "response": {
              "type": "string",
              "description": "å›ç­”å†…å®¹",
              "example": "ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰æ˜¯é©¬å…‹æ€åˆ—å®ä¸»ä¹‰åŸºæœ¬åŸåˆ™ä¸ä¸­å›½å…·ä½“å®é™…ç›¸ç»“åˆçš„äº§ç‰©..."
            },
            "attachment_data": {
              "type": "array",
              "description": "é™„ä»¶æ•°æ®",
              "items": {
                "type": "object"
              }
            },
            "special_note": {
              "type": "string",
              "description": "ç‰¹æ®Šè¯´æ˜"
            },
            "chat_id": {
              "type": "string",
              "description": "å¯¹è¯IDï¼ˆå¯ç”¨äºè¿½è¸ªå¯¹è¯ï¼‰",
              "example": "chat_12345"
            }
          }
        },
        "Scene": {
          "type": "object",
          "properties": {
            "description": {
              "type": "string",
              "example": "æ€æƒ³æ”¿æ²»æ•™è‚²èµ„æº"
            },
            "icon": {
              "type": "string",
              "example": "ğŸ“š"
            },
            "id": {
              "type": "string",
              "example": "db_sizheng"
            },
            "status": {
              "type": "string",
              "enum": ["available", "developing"],
              "example": "available"
            }
          }
        },
        "FeedbackRequest": {
          "type": "object",
          "required": ["message_id", "rating"],
          "properties": {
            "message_id": {
              "type": "string",
              "description": "æ¶ˆæ¯ID",
              "example": "msg_12345"
            },
            "rating": {
              "type": "integer",
              "format": "int32",
              "minimum": 1,
              "maximum": 5,
              "description": "è¯„åˆ†(1-5)",
              "example": 5
            },
            "comment": {
              "type": "string",
              "description": "è¯„è®ºå†…å®¹",
              "example": "å›ç­”éå¸¸æœ‰å¸®åŠ©ï¼"
            }
          }
        },
        "GreetingResponse": {
          "type": "object",
          "properties": {
            "status": {
              "type": "string",
              "example": "success"
            },
            "greeting": {
              "type": "string",
              "example": "æ¬¢è¿ä½¿ç”¨æˆ‘ä»¬çš„QAç³»ç»Ÿ!"
            }
          }
        },
        "SuccessResponse": {
          "type": "object",
          "properties": {
            "status": {
              "type": "string",
              "example": "success"
            },
            "message": {
              "type": "string",
              "example": "æ“ä½œæˆåŠŸå®Œæˆ"
            }
          }
        },
        "ErrorResponse": {
          "type": "object",
          "properties": {
            "status": {
              "type": "string",
              "example": "error"
            },
            "message": {
              "type": "string",
              "example": "å‘ç”Ÿé”™è¯¯"
            },
            "error_code": {
              "type": "string",
              "example": "SERVER_ERROR"
            }
          }
        }
      }
    },
    "tags": [
      {
        "name": "èŠå¤©åŠŸèƒ½",
        "description": "é—®ç­”äº¤äº’ç›¸å…³çš„API"
      },
      {
        "name": "åœºæ™¯ç®¡ç†",
        "description": "åœºæ™¯æŸ¥è¯¢ä¸ç®¡ç†"
      },
      {
        "name": "ç”¨æˆ·åé¦ˆ",
        "description": "ç”¨æˆ·åé¦ˆç›¸å…³åŠŸèƒ½"
      },
      {
        "name": "ç³»ç»Ÿé…ç½®",
        "description": "ç³»ç»ŸåŸºç¡€é…ç½®ä¿¡æ¯"
      },
      {
        "name": "ç³»ç»ŸçŠ¶æ€",
        "description": "æ£€æŸ¥ç³»ç»Ÿè¿è¡ŒçŠ¶æ€"
      }
    ]
  }